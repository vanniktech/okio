<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>atomicMove</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
<link href="../../../images/icon-square.png">
<link href="../../../styles/dokka-logo.css" rel="Stylesheet">
</head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
                    <a class="library-name--link" href="../../../index.html">
                            okio
                    </a>
            </div>
            <div class="library-version">
3.9.0            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":okio:dokkaHtml/hashFunctions">common</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="member" id="content" pageIds="okio::okio/ForwardingFileSystem/atomicMove/#okio.Path#okio.Path/PointingToDeclaration//439404261">
  <div class="breadcrumbs"><a href="../../../index.html">okio</a><span class="delimiter">/</span><a href="../index.html">okio</a><span class="delimiter">/</span><a href="index.html">ForwardingFileSystem</a><span class="delimiter">/</span><span class="current">atomicMove</span></div>
  <div class="cover ">
    <h1 class="cover"><span>atomic</span><wbr></wbr><span><span>Move</span></span></h1>
  </div>
  <div class="platform-hinted  with-platform-tabs" data-platform-hinted="data-platform-hinted">
    <div class="platform-bookmarks-row" data-toggle-list="data-toggle-list"><button class="platform-bookmark" data-filterable-current=":okio:dokkaHtml/hashFunctions" data-filterable-set=":okio:dokkaHtml/hashFunctions" data-active="" data-toggle=":okio:dokkaHtml/hashFunctions">common</button></div>
<div class="content sourceset-dependent-content" data-active="" data-togglable=":okio:dokkaHtml/hashFunctions"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">override </span><span class="token keyword">fun </span><a href="atomic-move.html"><span class="token function">atomicMove</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">source<span class="token operator">: </span><a href="../-path/index.html">Path</a><span class="token punctuation">, </span></span><span class="parameter ">target<span class="token operator">: </span><a href="../-path/index.html">Path</a></span></span><span class="token punctuation">)</span></div><p class="paragraph">Moves <a href="atomic-move.html">source</a> to <a href="atomic-move.html">target</a> in-place if the underlying file system supports it. If <a href="atomic-move.html">target</a> exists, it is first removed. If <code class="lang-kotlin">source == target</code>, this operation does nothing. This may be used to move a file or a directory.</p><p class="paragraph"><strong>Only as Atomic as the Underlying File System Supports</strong></p><p class="paragraph">FAT and NTFS file systems cannot atomically move a file over an existing file. If the target file already exists, the move is performed into two steps:</p><ol><li><p class="paragraph">Atomically delete the target file.</p></li><li><p class="paragraph">Atomically rename the source file to the target file.</p></li></ol><p class="paragraph">The delete step and move step are each atomic but not atomic in aggregate! If this process crashes, the host operating system crashes, or the hardware fails it is possible that the delete step will succeed and the rename will not.</p><p class="paragraph"><strong>Entire-file or nothing</strong></p><p class="paragraph">These are the possible results of this operation:</p><ul><li><p class="paragraph">This operation returns normally, the source file is absent, and the target file contains the     data previously held by the source file. This is the success case.</p></li><li><p class="paragraph">The operation throws an <a href="../-i-o-exception/index.html">IOException</a> and the file system is unchanged. For example, this     occurs if this process lacks permissions to perform the move.</p></li><li><p class="paragraph">This operation throws an <a href="../-i-o-exception/index.html">IOException</a>, the target file is deleted, but the source file is     unchanged. This is the partial failure case described above and is only possible on     file systems like FAT and NTFS that do not support atomic file replacement. Typically in     such cases this operation won't return at all because the process or operating system has     also crashed.</p></li></ul><p class="paragraph">There is no failure mode where the target file holds a subset of the bytes of the source file. If the rename step cannot be performed atomically, this function will throw an <a href="../-i-o-exception/index.html">IOException</a> before attempting a move. Typically this occurs if the source and target files are on different physical volumes.</p><p class="paragraph"><strong>Non-Atomic Moves</strong></p><p class="paragraph">If you need to move files across volumes, use <span data-unresolved-link="okio/ForwardingFileSystem/copy/#okio.Path#okio.Path/PointingToDeclaration/">copy</span> followed by <a href="delete.html">delete</a>, and change your application logic to recover should the copy step suffer a partial failure.</p><h4 class="">Throws</h4><div class="table"><div class="table-row" data-filterable-current=":okio:dokkaHtml/hashFunctions" data-filterable-set=":okio:dokkaHtml/hashFunctions"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../-i-o-exception/index.html"><span><span>IOException</span></span></a></div></span></div><div><div class="title"><p class="paragraph">if the move cannot be performed, or cannot be performed atomically. Moves     fail if the source doesn't exist, if the target is not writable, if the target already     exists and cannot be replaced, or if the move would cause physical or quota limits to be     exceeded. This list of potential problems is not exhaustive.</p></div></div></div></div></div></div>  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2024 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>
